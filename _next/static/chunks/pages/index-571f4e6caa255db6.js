(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7274)}])},4616:function(e,t,r){"use strict";var s=r(5893);let a=e=>{let{suit:t,rank:r}=e,a="flex-1 text-center text-5xl mt-3 ".concat("red-600"==("hearts"===t||"diamonds"===t?"red-600":"black")?"text-red-600":"text-black"," text-opacity-100");return(0,s.jsxs)("div",{className:"flex box-boarder bg-white h-20 w-1/4 p-1 mx-1 px-3 boarder-1 shadow-md",children:[(0,s.jsx)("p",{className:a,children:function(e){switch(e){case"spades":return"♠";case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣"}}(t)}),(0,s.jsx)("p",{className:a,children:function(e){switch(e){case"ace":return"A";case"jack":return"J";case"queen":return"Q";case"king":return"K";default:return e}}(r)})]})};t.Z=a},7274:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(5893),a=r(4616);let n=e=>{let{player:t}=e;return t?(0,s.jsxs)("div",{className:"flex w-full h-22 p-1 border-1 shadow-md bg-slate-50 items-center",children:[(0,s.jsx)("p",{className:"flex-auto text-center text-4xl w-1/4",children:t.name}),(0,s.jsx)(a.Z,{suit:t.hand[0].suit,rank:t.hand[0].rank}),(0,s.jsx)(a.Z,{suit:t.hand[1].suit,rank:t.hand[1].rank}),(0,s.jsxs)("p",{className:"flex-auto text-center text-4xl w-1/4",children:[(100*t.equity).toFixed(2),"%"]})]}):(0,s.jsx)("div",{})};var c=r(7294);let l=e=>{let{cards:t}=e;return t&&0!=t.length?(0,s.jsxs)("div",{className:"flex w-full h-22 p-1 border-1 shadow-md bg-slate-50 items-center",children:[(0,s.jsx)("p",{className:"flex-auto text-center text-4xl",children:"Board"}),t.map((e,r)=>(0,s.jsx)(a.Z,{suit:t[r].suit,rank:t[r].rank},r))]}):(0,s.jsx)("div",{})};var o=r(2424);function i(e){let{hostname:t}=e,[r,a]=(0,c.useState)([]),[i,u]=(0,c.useState)([]),[d,x]=(0,c.useState)(null);return((0,c.useEffect)(()=>{if(!t)return;let e=new WebSocket("".concat(t,"/ws"));return e.onmessage=e=>{try{let t=JSON.parse(e.data);a(t.players),u(t.board)}catch(e){console.error("Error parsing JSON:",e)}},e.onerror=e=>{console.error("Websocket error:",e);let r=o.Z.sanitize(t),s=e instanceof ErrorEvent&&e.error?"".concat(e.error.message," (Hostname: ").concat(r,")"):"Failed to connect to WebSocket at ".concat(r);x(s)},()=>{e.close()}},[t]),d)?(0,s.jsx)("div",{role:"alert",className:"alert alert-error",children:(0,s.jsx)("span",{children:d})}):r?(0,s.jsxs)("div",{className:"grid h-50",children:[(0,s.jsx)(l,{cards:i}),r.map((e,t)=>(0,s.jsx)(n,{player:e},t))]}):(0,s.jsx)("div",{})}function u(){let[e,t]=(0,c.useState)(!0),[r,a]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=localStorage.getItem("hostname");return e&&(a(e),t(!1)),()=>{}},[]),(0,s.jsx)("main",{className:"flex w-full min-h-screen flex-col items-center justify-between p-2",children:(0,s.jsxs)("div",{className:"flex-1 z-10 w-full max-w-5xl items-center justify-between font-mono text-sm bg-base-100",children:[(0,s.jsx)("div",{className:"navbar navbar-center bg-base-100 w-full",children:(0,s.jsx)("a",{className:"btn btn-ghost navbar-start normal-case text-xl text-accent-content",children:"RFID Poker"})}),(0,s.jsx)(i,{hostname:r})]})})}}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2183)}])},2183:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893);let r=e=>{let{suit:t,rank:s}=e,r="flex-1 text-center text-5xl mt-3 ".concat("red-600"==("hearts"===t||"diamonds"===t?"red-600":"black")?"text-red-600":"text-black"," text-opacity-100");return(0,n.jsxs)("div",{className:"flex box-boarder bg-white h-20 w-1/4 p-1 mx-1 px-3 boarder-1 shadow-md",children:[(0,n.jsx)("p",{className:r,children:function(e){switch(e){case"spades":return"♠";case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣"}}(t)}),(0,n.jsx)("p",{className:r,children:function(e){switch(e){case"ace":return"A";case"jack":return"J";case"queen":return"Q";case"king":return"K";default:return e}}(s)})]})},a=e=>{let{player:t}=e;return t?(0,n.jsxs)("div",{className:"flex w-full h-22 p-1 border-1 shadow-md bg-slate-50 items-center",children:[(0,n.jsx)("p",{className:"flex-auto text-center text-4xl w-1/4",children:t.name}),(0,n.jsx)(r,{suit:t.hand[0].suit,rank:t.hand[0].rank}),(0,n.jsx)(r,{suit:t.hand[1].suit,rank:t.hand[1].rank}),(0,n.jsxs)("p",{className:"flex-auto text-center text-4xl w-1/4",children:[(100*t.equity).toFixed(2),"%"]})]}):(0,n.jsx)("div",{})};var l=s(7294);let c=e=>{let{cards:t}=e;return t&&0!=t.length?(0,n.jsxs)("div",{className:"flex w-full h-22 p-1 border-1 shadow-md bg-slate-50 items-center",children:[(0,n.jsx)("p",{className:"flex-auto text-center text-4xl",children:"Board"}),t.map((e,s)=>(0,n.jsx)(r,{suit:t[s].suit,rank:t[s].rank},s))]}):(0,n.jsx)("div",{})};var o=s(2424);function i(e){let{hostname:t}=e,[s,r]=(0,l.useState)([]),[i,u]=(0,l.useState)([]),[d,x]=(0,l.useState)(null);return((0,l.useEffect)(()=>{if(!t)return;let e=new WebSocket("".concat(t,"/ws"));return e.onmessage=e=>{try{let t=JSON.parse(e.data);r(t.players),u(t.board)}catch(e){console.error("Error parsing JSON:",e)}},e.onerror=e=>{console.error("Websocket error:",e);let s=o.Z.sanitize(t),n=e instanceof ErrorEvent&&e.error?"".concat(e.error.message," (Hostname: ").concat(s,")"):"Failed to connect to WebSocket at ".concat(s);x(n)},()=>{e.close()}},[t]),d)?(0,n.jsx)("div",{role:"alert",className:"alert alert-error",children:(0,n.jsx)("span",{children:d})}):s?(0,n.jsxs)("div",{className:"grid h-50",children:[(0,n.jsx)(c,{cards:i}),s.map((e,t)=>(0,n.jsx)(a,{player:e},t))]}):(0,n.jsx)("div",{})}function u(e){let{isOpen:t,onClose:s,onSubmit:r}=e,[a,c]=(0,l.useState)(""),o=()=>{r(a),s()};return t?(0,n.jsx)("div",{className:"fixed inset-0 form-control items-center justify-center z-50 rounded",children:(0,n.jsxs)("div",{className:"bg-primary p-4 rounded",children:[(0,n.jsx)("label",{className:"label",children:(0,n.jsx)("span",{className:"label-text text-xl text-primary-content",children:"Endpoint (e.g. wss://192.0.2.1 )"})}),(0,n.jsx)("input",{type:"text",value:a,onChange:e=>c(e.target.value),className:"input input-bordered p-3"}),(0,n.jsx)("button",{onClick:o,className:"btn btn-primary ml-2",children:"Set"})]})}):null}function d(){let[e,t]=(0,l.useState)(!0),[s,r]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=localStorage.getItem("hostname");return e&&(r(e),t(!1)),()=>{}},[]);let a=e=>{r(e),localStorage.setItem("hostname",e)};return(0,n.jsxs)("main",{className:"flex w-full min-h-screen flex-col items-center justify-between p-2",children:[(0,n.jsx)(u,{isOpen:e,onClose:()=>t(!1),onSubmit:a}),(0,n.jsxs)("div",{className:"flex-1 z-10 w-full max-w-5xl items-center justify-between font-mono text-sm bg-base-100",children:[(0,n.jsxs)("div",{className:"navbar navbar-center bg-base-100 w-full",children:[(0,n.jsx)("a",{className:"btn btn-ghost navbar-start normal-case text-xl text-accent-content",children:"RFID Poker"}),(0,n.jsx)("div",{className:"navbar-end",children:(0,n.jsx)("button",{onClick:function(){localStorage.removeItem("hostname"),r(""),t(!0)},className:"btn btn-primary normal-case",children:"Remove Endpoint"})})]}),(0,n.jsx)(i,{hostname:s})]})]})}}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);